"use strict";(self.webpackChunkRSS_Puzzle=self.webpackChunkRSS_Puzzle||[]).push([[648],{713:(t,e,s)=>{s.d(e,{N:()=>a});class a{static parseGameData({rounds:t}){return t.map((t=>({levelData:t.levelData,words:t.words.map((t=>({audioExample:t.audioExample,textExample:t.textExample,textExampleTranslate:t.textExampleTranslate,id:t.id,word:t.word,wordTranslate:t.wordTranslate})))})))}}},430:(t,e,s)=>{s.d(e,{R:()=>a});class a{static loadJSON(t){return e=this,s=void 0,n=function*(){try{const e=yield fetch(t);if(!e.ok)throw new Error("failed to load date");return yield e.json()}catch(t){throw t instanceof Error&&console.error(`error loading JSON: ${t.message}`),new Error("failed to load date")}},new((a=void 0)||(a=Promise))((function(t,l){function r(t){try{o(n.next(t))}catch(t){l(t)}}function c(t){try{o(n.throw(t))}catch(t){l(t)}}function o(e){var s;e.done?t(e.value):(s=e.value,s instanceof a?s:new a((function(t){t(s)}))).then(r,c)}o((n=n.apply(e,s||[])).next())}));var e,s,a,n}}},297:(t,e,s)=>{s.d(e,{J:()=>a,M:()=>n});const a="https://raw.githubusercontent.com/anturchin/rss-puzzle-data/main",n={LEVEL_1:"/data/wordCollectionLevel1.json",LEVEL_2:"/data/wordCollectionLevel2.json",LEVEL_3:"/data/wordCollectionLevel3.json",LEVEL_4:"/data/wordCollectionLevel4.json",LEVEL_5:"/data/wordCollectionLevel5.json",LEVEL_6:"/data/wordCollectionLevel6.json"}},648:(t,e,s)=>{s.r(e),s.d(e,{Statistics:()=>L});var a=s(713),n=s(430),l=s(297),r=s(440),c=s(766);class o extends c.S{constructor(t){super({tag:"img",callback:null,classNames:["statistics__picture"]}),this.setupPicture(t)}setupPicture(t){this.viewHtmlElementCreator.getElement().src=t}}class i extends c.S{constructor(t){super({tag:"h3",callback:null,classNames:["statistics__name"],textContent:t})}}class u extends c.S{constructor(){super({tag:"li",callback:null,classNames:["list__item"]})}}class d extends c.S{constructor(){super({tag:"ul",callback:null,classNames:["statistics__list"]})}}class m extends c.S{constructor(){super({tag:"div",callback:null,classNames:["statistics__wrapper"]})}}class E extends c.S{constructor(t,e){super({tag:"p",callback:null,classNames:[...(e?"list__name":"list__name red").split(" ")],textContent:t})}}class p extends c.S{constructor(t){super({tag:"button",callback:null,classNames:["statistics__btn"],textContent:"Continue"}),this.setEventListener(t)}setEventListener(t){this.viewHtmlElementCreator.getElement().addEventListener("click",(()=>{t.navigate("/game")}))}}var w=s(727);class g extends c.S{constructor(t){super({tag:"img",callback:null,classNames:["picture__sound"]}),this.setupPicture(),this.setupEventListener(t)}setupEventListener(t){const e=new Audio;e.src=t,this.viewHtmlElementCreator.getElement().addEventListener("click",(()=>{e.play()}))}setupPicture(){this.viewHtmlElementCreator.getElement().src=w}}class h extends c.S{constructor(t){super({tag:"p",callback:null,textContent:t})}}class L extends c.S{constructor(t){super({tag:"section",callback:null,classNames:["statistics"]}),this.gameStatisticsFromLS=null,this.router=t,this.loadGameStatistic()}setupStatistics(t){if(this.gameStatisticsFromLS){const e=this.gameStatisticsFromLS.round,s=(new m).getElement(),a=new E("i know",!0).getElement(),n=(new d).getElement(),r=new E("i don't know",!1).getElement(),c=(new d).getElement();s.append(a,n,r,c);const w=(new m).getElement(),L=new o(`${l.J}/images/${t[e].levelData.cutSrc}`).getElement(),v=new i(t[e].levelData.author).getElement();w.append(L,v),this.gameStatisticsFromLS.wordsStatistic.forEach(((s,a)=>{const r=(new u).getElement(),o=new g(`${l.J}/${t[e].words[a].audioExample}`).getElement();if(r.append(o),s.isWordGuessed){const{textExample:s}=t[e].words[a],l=new h(s).getElement();r.append(l),n.append(r)}else{const{textExample:s}=t[e].words[a],n=new h(s).getElement();r.append(n),c.append(r)}}));const S=new p(this.router).getElement();this.viewHtmlElementCreator.getElement().append(w,s,S)}}loadGameStatistic(){return t=this,e=void 0,c=function*(){try{if(l.J&&(this.gameStatisticsFromLS=r.q.getGameStatistics(),this.gameStatisticsFromLS)){const t=this.getLevelPath(this.gameStatisticsFromLS.level),e=yield n.R.loadJSON(`${l.J}${t}`),s=a.N.parseGameData(e);this.setupStatistics(s)}}catch(t){t instanceof Error&&console.error(t.message)}},new((s=void 0)||(s=Promise))((function(a,n){function l(t){try{o(c.next(t))}catch(t){n(t)}}function r(t){try{o(c.throw(t))}catch(t){n(t)}}function o(t){var e;t.done?a(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(l,r)}o((c=c.apply(t,e||[])).next())}));var t,e,s,c}getLevelPath(t){switch(t){case 1:return l.M.LEVEL_1;case 2:return l.M.LEVEL_2;case 3:return l.M.LEVEL_3;case 4:return l.M.LEVEL_4;case 5:return l.M.LEVEL_5;case 6:return l.M.LEVEL_6;default:throw new Error("Invalid level")}}}},727:(t,e,s)=>{t.exports=s.p+"images/sound..png"}}]);