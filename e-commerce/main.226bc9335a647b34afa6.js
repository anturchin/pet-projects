(()=>{"use strict";var e,t,n={385:e=>{e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),t.hash&&(e+=t.hash),t.maybeNeedQuotes&&/[\t\n\f\r "'=<>`]/.test(e)?'"'.concat(e,'"'):e):e}},185:(e,t,n)=>{n.d(t,{Y:()=>s});class s{constructor(e){this.element=document.createElement(e.tag),e.classNames&&this.setCssSelector(e.classNames),e.textContent&&this.setTextContent(e.textContent),e.callback&&this.setCallback(e.callback)}getElement(){return this.element}addInnerElement(e){e instanceof s?this.element.append(e.getElement()):this.element.append(e)}setCssSelector(e){e.forEach((e=>{this.element.classList.add(e)}))}setTextContent(e){this.element.textContent=e}setCallback(e){this.element.addEventListener("click",e)}}},241:(e,t,n)=>{n.d(t,{q:()=>s});class s{static saveUserData(e){const t=JSON.stringify(e);localStorage.setItem("userData",t)}static getUserData(){const e=localStorage.getItem("userData");return e?JSON.parse(e):null}static removeUserData(){localStorage.removeItem("userData")}static saveToken(e){localStorage.setItem("authToken",e)}static getToken(){return localStorage.getItem("authToken")}static removeToken(){localStorage.removeItem("authToken")}}},940:(e,t,n)=>{n.d(t,{S:()=>r});var s=n(185);class r{constructor(e){this.viewHtmlElement=this.createElement(e)}createElement(e){return new s.Y(e)}getElement(){return this.viewHtmlElement.getElement()}addInnerElement(e){this.viewHtmlElement.addInnerElement(e)}render(e){console.log(e)}}},848:(e,t,n)=>{n.d(t,{$:()=>r});var s=n(940);class r extends s.S{constructor(e){super({tag:"button",classNames:["button"]}),this.setupInput(e),this.addClickHandler(e.onClick)}setupInput(e){const t=this.getElement();t.textContent=e.label,e.disabled&&(t.disabled=e.disabled)}addClickHandler(e){e&&this.getElement().addEventListener("click",e)}}},25:(e,t,n)=>{e.exports=n.p+"images/free-icon-online-shopping-7619281..png"}},s={};function r(e){var t=s[e];if(void 0!==t)return t.exports;var i=s[e]={exports:{}};return n[e](i,i.exports,r),i.exports}r.m=n,r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce(((t,n)=>(r.f[n](e,t),t)),[])),r.u=e=>e+"."+{437:"831a78d6857120a0f1be",666:"5606cc54703a5b1eb67d",745:"973f3f54045b7d91352a",951:"b7a8136427d153e5864f"}[e]+".js",r.miniCssF=e=>"css/"+e+"."+{666:"137e0079",745:"30a799a5",951:"46094154"}[e]+".css",r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="e-commerce:",r.l=(n,s,i,o)=>{if(e[n])e[n].push(s);else{var a,l;if(void 0!==i)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+i){a=d;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,r.nc&&a.setAttribute("nonce",r.nc),a.setAttribute("data-webpack",t+i),a.src=n),e[n]=[s];var h=(t,s)=>{a.onerror=a.onload=null,clearTimeout(m);var r=e[n];if(delete e[n],a.parentNode&&a.parentNode.removeChild(a),r&&r.forEach((e=>e(s))),t)return t(s)},m=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),l&&document.head.appendChild(a)}},r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;r.g.importScripts&&(e=r.g.location+"");var t=r.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var s=n.length-1;s>-1&&(!e||!/^http(s?):/.test(e));)e=n[s--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e})(),(()=>{if("undefined"!=typeof document){var e={792:0};r.f.miniCss=(t,n)=>{e[t]?n.push(e[t]):0!==e[t]&&{666:1,745:1,951:1}[t]&&n.push(e[t]=(e=>new Promise(((t,n)=>{var s=r.miniCssF(e),i=r.p+s;if(((e,t)=>{for(var n=document.getElementsByTagName("link"),s=0;s<n.length;s++){var r=(o=n[s]).getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(r===e||r===t))return o}var i=document.getElementsByTagName("style");for(s=0;s<i.length;s++){var o;if((r=(o=i[s]).getAttribute("data-href"))===e||r===t)return o}})(s,i))return t();((e,t,n,s,i)=>{var o=document.createElement("link");o.rel="stylesheet",o.type="text/css",r.nc&&(o.nonce=r.nc),o.onerror=o.onload=n=>{if(o.onerror=o.onload=null,"load"===n.type)s();else{var r=n&&n.type,a=n&&n.target&&n.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+r+": "+a+")");l.name="ChunkLoadError",l.code="CSS_CHUNK_LOAD_FAILED",l.type=r,l.request=a,o.parentNode&&o.parentNode.removeChild(o),i(l)}},o.href=t,document.head.appendChild(o)})(e,i,0,t,n)})))(t).then((()=>{e[t]=0}),(n=>{throw delete e[t],n})))}}})(),(()=>{r.b=document.baseURI||self.location.href;var e={792:0};r.f.j=(t,n)=>{var s=r.o(e,t)?e[t]:void 0;if(0!==s)if(s)n.push(s[2]);else{var i=new Promise(((n,r)=>s=e[t]=[n,r]));n.push(s[2]=i);var o=r.p+r.u(t),a=new Error;r.l(o,(n=>{if(r.o(e,t)&&(0!==(s=e[t])&&(e[t]=void 0),s)){var i=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;a.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",a.name="ChunkLoadError",a.type=i,a.request=o,s[1](a)}}),"chunk-"+t,t)}};var t=(t,n)=>{var s,i,[o,a,l]=n,c=0;if(o.some((t=>0!==e[t]))){for(s in a)r.o(a,s)&&(r.m[s]=a[s]);l&&l(r)}for(t&&t(n);c<o.length;c++)i=o[c],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0},n=self.webpackChunke_commerce=self.webpackChunke_commerce||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{var e=r(385),t=r.n(e),n=new URL(r(25),r.b);t()(n);var s=r(241),i=function(e,t,n,s){return new(n||(n=Promise))((function(r,i){function o(e){try{l(s.next(e))}catch(e){i(e)}}function a(e){try{l(s.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((s=s.apply(e,t||[])).next())}))};class o{static initialRoutes(e,t){return[{path:"login",callback:()=>i(this,void 0,void 0,(function*(){yield t.updateContent("login")}))},{path:"registration",callback:()=>i(this,void 0,void 0,(function*(){yield t.updateContent("registration")}))},{path:"main",callback:()=>i(this,void 0,void 0,(function*(){yield t.updateContent("main")}))},{path:"not-found",callback:()=>i(this,void 0,void 0,(function*(){yield t.updateContent("notFound")}))}]}}var a=function(e,t,n,s){return new(n||(n=Promise))((function(r,i){function o(e){try{l(s.next(e))}catch(e){i(e)}}function a(e){try{l(s.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((s=s.apply(e,t||[])).next())}))};class l{constructor(e){this.routes=[],this.addRoute(o.initialRoutes(this,e)),window.addEventListener("popstate",(()=>{this.navigate(this.getUrl())})),window.addEventListener("hashchange",(()=>{this.navigate(this.getUrl())}))}getUrl(){return window.location.hash.slice(1)||"main"}addRoute(e){e.forEach((e=>this.routes.push(e)))}findRoute(e){return this.routes.find((t=>t.path===e))}updateUrl(e){window.location.hash=`#${e}`}showNotFoundPage(){return a(this,void 0,void 0,(function*(){var e;yield null===(e=this.findRoute("not-found"))||void 0===e?void 0:e.callback()}))}navigate(e){return a(this,void 0,void 0,(function*(){const t=this.findRoute(e);if(t){if(s.q.getUserData()&&("login"===t.path||"registration"===t.path))return void this.updateUrl("main");yield t.callback(),this.updateUrl(e)}else yield this.showNotFoundPage()}))}}var c=r(940);class u extends c.S{constructor(){super({tag:"a",classNames:["footer__link"],textContent:"E-Mail"}),this.setupLink()}setupLink(){this.viewHtmlElement.getElement().setAttribute("href","mailto:FadStore@gmail.com")}}const d=r.p+"images/envelope-solid..svg";class h extends c.S{constructor(){super({tag:"img",classNames:["footer__img"]}),this.setSvgPath()}setSvgPath(){this.viewHtmlElement.getElement().setAttribute("src",d)}}class m extends c.S{constructor(){super({tag:"p",classNames:["subtitle"],textContent:"Contact"})}}class g extends c.S{constructor(){super({tag:"div",classNames:["footer__container"]}),this.setupContacts()}setupContacts(){const e=(new h).getElement();this.viewHtmlElement.addInnerElement(e);const t=(new m).getElement();this.viewHtmlElement.addInnerElement(t);const n=(new u).getElement();this.viewHtmlElement.addInnerElement(n)}}class p extends c.S{constructor(){super({tag:"p",classNames:["subtitle"],textContent:"Address"})}}const v=r.p+"images/map-pin-solid..svg";class f extends c.S{constructor(){super({tag:"img",classNames:["footer__img"]}),this.setSvgPath()}setSvgPath(){this.viewHtmlElement.getElement().setAttribute("src",v)}}class w extends c.S{constructor(){super({tag:"a",classNames:["footer__link"],textContent:"Location"}),this.setLink()}setLink(){this.viewHtmlElement.getElement().setAttribute("href","https://www.google.com/maps/place/%D1%83%D0%BB.+%D0%96%D1%83%D0%BA%D0%BE%D0%B2%D1%81%D0%BA%D0%BE%D0%B3%D0%BE,+%D0%A1%D0%B0%D0%BD%D0%BA%D1%82-%D0%9F%D0%B5%D1%82%D0%B5%D1%80%D0%B1%D1%83%D1%80%D0%B3,+191014/@59.9323888,30.3497675,13.57z/data=!4m15!1m8!3m7!1s0x469631a3db450ec9:0x3aad5b4a38113633!2z0YPQuy4g0JbRg9C60L7QstGB0LrQvtCz0L4sINCh0LDQvdC60YIt0J_QtdGC0LXRgNCx0YPRgNCzLCAxOTEwMTQ!3b1!8m2!3d59.935874!4d30.3558349!16s%2Fg%2F122pwsld!3m5!1s0x469631a3db450ec9:0x3aad5b4a38113633!8m2!3d59.935874!4d30.3558349!16s%2Fg%2F122pwsld?entry=ttu")}}class E extends c.S{constructor(){super({tag:"div",classNames:["footer__container"]}),this.setupAddress()}setupAddress(){const e=(new f).getElement();this.viewHtmlElement.addInnerElement(e);const t=(new p).getElement();this.viewHtmlElement.addInnerElement(t);const n=(new w).getElement();this.viewHtmlElement.addInnerElement(n)}}class b extends c.S{constructor(){super({tag:"p",classNames:["subtitle"],textContent:"Support"})}}class y extends c.S{constructor(){super({tag:"a",classNames:["footer__link"],textContent:"Reference"}),this.setupLink()}setupLink(){this.viewHtmlElement.getElement().setAttribute("href","#")}}const C=r.p+"images/person-solid..svg";class S extends c.S{constructor(){super({tag:"img",classNames:["footer__img"]}),this.setSvgPath()}setSvgPath(){this.viewHtmlElement.getElement().setAttribute("src",C)}}class k extends c.S{constructor(){super({tag:"div",classNames:["footer__container"]}),this.setupSupport()}setupSupport(){const e=(new S).getElement();this.viewHtmlElement.addInnerElement(e);const t=(new b).getElement();this.viewHtmlElement.addInnerElement(t);const n=(new y).getElement();this.viewHtmlElement.addInnerElement(n)}}class L extends c.S{constructor(){super({tag:"footer",classNames:["footer"]}),this.setupFooterContent()}setupFooterContent(){const e=(new g).getElement();this.viewHtmlElement.addInnerElement(e);const t=(new E).getElement();this.viewHtmlElement.addInnerElement(t);const n=(new k).getElement();this.viewHtmlElement.addInnerElement(n)}}class x{constructor(e){this.footer=new L,this.router=e}render(){return this.footer.getElement()}}class N extends c.S{constructor(e){super({tag:"li",classNames:["nav-list_item"],textContent:e}),this.setupNavItem()}setupNavItem(){const e=this.viewHtmlElement.getElement();e.dataset.navItem=e.textContent||""}}const D=["Home","Sign in","Sign up","Logout"];class H extends c.S{constructor(){super({tag:"ul",classNames:["nav-list","hidden"]}),this.navItems=[],this.setupNavList()}getNavItems(){return this.navItems}setupNavList(){D.forEach((e=>{const t=new N(e);this.navItems.push(t),this.viewHtmlElement.addInnerElement(t.getElement())}))}}const I=r.p+"images/bag-shopping-solid..svg";class _ extends c.S{constructor(){super({tag:"img",classNames:["nav-list__item-bag"]}),this.setSvgPath()}setSvgPath(){this.viewHtmlElement.getElement().setAttribute("src",I)}}var P=r(848);class A extends c.S{constructor(){super({tag:"header",classNames:["header"]}),this.navList=null,this.toggleButton=null,this.setupHeaderContent(),this.setupToggleBtn(),this.setupResizeListener(),this.updateNavList()}getNavList(){return this.navList}setupHeaderContent(){this.navList=new H;const e=(new _).getElement();this.viewHtmlElement.addInnerElement(this.navList.getElement()),this.viewHtmlElement.addInnerElement(e)}setupToggleBtn(){this.toggleButton=new P.$({label:"☰",onClick:()=>this.toggleNavList()}),this.viewHtmlElement.addInnerElement(this.toggleButton.getElement()),this.updateBtnVisible()}setupResizeListener(){window.addEventListener("resize",(()=>{this.updateBtnVisible(),this.updateNavList()}))}updateBtnVisible(){var e;const t=null===(e=this.toggleButton)||void 0===e?void 0:e.getElement();t&&(window.innerWidth<=485?t.style.display="block":t.style.display="none")}updateNavList(){var e;const t=null===(e=this.navList)||void 0===e?void 0:e.getElement();t&&(t.style.display=window.innerWidth<=485?"none":"flex")}toggleNavList(){if(this.navList){const e=this.navList.getElement();e.style.display="none"===e.style.display?"flex":"none"}}}class T{constructor(e,t){this.header=new A,this.router=e,this.authPublisher=t,this.authPublisher.registerObserver(this.constructor.name,this),this.onClick=this.onClick.bind(this),this.setEventListener()}updateData(e){this.updateHeaderOptions(e)}render(){return this.header.getElement()}updateHeaderOptions(e=null!==s.q.getUserData()){var t;const n=null===(t=this.header.getNavList())||void 0===t?void 0:t.getNavItems();null==n||n.forEach((t=>{const n=t.getElement(),s=n.getAttribute("data-nav-item");e?"Logout"===s||"Home"===s?n.classList.remove("hidden"):n.classList.add("hidden"):"Sign in"===s||"Sign up"===s||"Home"===s?n.classList.remove("hidden"):n.classList.add("hidden")}))}onClick(e){const t=e.target.getAttribute("data-nav-item");t&&"Home"===t&&this.router.navigate("main"),t&&"Sign in"===t&&this.router.navigate("login"),t&&"Sign up"===t&&this.router.navigate("registration"),t&&"Logout"===t&&s.q.getUserData()&&(s.q.removeUserData(),this.router.navigate("login"),this.updateHeaderOptions(!1))}setEventListener(){const e=this.header.getNavList();null==e||e.getElement().addEventListener("click",this.onClick)}}class B extends c.S{constructor(){super({tag:"main"})}updateContent(e){this.getElement().innerHTML="",this.getElement().append(e)}}var R=function(e,t,n,s){return new(n||(n=Promise))((function(r,i){function o(e){try{l(s.next(e))}catch(e){i(e)}}function a(e){try{l(s.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((s=s.apply(e,t||[])).next())}))};class U{constructor(e){this.router=null,this.wrapper=new B,this.authPublisher=e}setRouter(e){this.router=e}getRouter(){return this.router}updateContent(e){return R(this,void 0,void 0,(function*(){try{const t=yield this.loadController(e),n=yield t.getElement();this.wrapper.updateContent(n)}catch(e){console.error(e);const t=document.createElement("div");t.innerHTML="<h1>Page Not Found</h1>",this.wrapper.updateContent(t)}}))}render(){return this.wrapper.getElement()}loadController(e){return R(this,void 0,void 0,(function*(){switch(e){case"login":{const{LoginController:e}=yield r.e(951).then(r.bind(r,951));return new e(this.getRouter(),this.authPublisher)}case"registration":{const{RegistrationController:e}=yield r.e(745).then(r.bind(r,745));return new e(this.getRouter(),this.authPublisher)}case"main":{const{MainController:e}=yield r.e(437).then(r.bind(r,437));return new e}case"notFound":{const{NotFoundController:e}=yield r.e(666).then(r.bind(r,666));return new e}default:throw new Error(`Controller ${e} not found`)}}))}}class F{static getToken(){return e=this,t=void 0,s=function*(){const e=`${this.AUTH_URL}/oauth/token`;try{const t=yield fetch(e,{method:"POST",headers:{Authorization:`Basic ${btoa(`${this.clientID}:${this.clientSecret}`)}`,"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({grant_type:"client_credentials",scope:this.scope})});if(!t.ok){const e=yield t.json();return{statusCode:e.statusCode,msg:e.message}}return yield t.json()}catch(e){throw console.error(e),e}},new((n=void 0)||(n=Promise))((function(r,i){function o(e){try{l(s.next(e))}catch(e){i(e)}}function a(e){try{l(s.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((s=s.apply(e,t||[])).next())}));var e,t,n,s}}F.clientID="hRGagGlXqckAWUF1-I1Hkzrk",F.clientSecret="qCgigNxcu7qi7RyfaEX6YWF8EIIpksCT",F.scope="manage_project:fad-team manage_api_clients:fad-team view_api_clients:fad-team",F.AUTH_URL="https://auth.europe-west1.gcp.commercetools.com";class O{constructor(){this.observers=new Map}registerObserver(e,t){this.observers.set(e,t)}removeObserver(e){this.observers.delete(e)}notifyObservers(e){this.observers.forEach((t=>t.updateData(e)))}}(new class{constructor(){this.authPublisher=new O,this.pageController=new U(this.authPublisher),this.router=new l(this.pageController),this.pageController.setRouter(this.router),this.headerController=new T(this.router,this.authPublisher),this.footerController=new x(this.router),this.initializeApp()}render(){this.router.getUrl()?this.router.navigate(this.router.getUrl()):this.router.navigate("main");const e=this.headerController.render(),t=this.pageController.render(),n=this.footerController.render(),r=document.querySelector("body");r&&(this.authPublisher.notifyObservers(!!s.q.getUserData()),r.append(e,t,n))}initializeApp(){return e=this,t=void 0,r=function*(){try{const e=yield F.getToken();"access_token"in e&&s.q.saveToken(e.access_token)}catch(e){console.error("Failed to fetch token:",e)}},new((n=void 0)||(n=Promise))((function(s,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((r=r.apply(e,t||[])).next())}));var e,t,n,r}}).render()})()})();